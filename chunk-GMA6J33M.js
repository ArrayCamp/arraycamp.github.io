import{a as q,b as A,c as O,d as R,e as v,f as M,g as W,h as $,i as G,j as H,k as z,l as U}from"./chunk-IL22K764.js";import{a as L}from"./chunk-WRTEGAD3.js";import{c as D,d as E,h as T}from"./chunk-SDQEQCA5.js";import{b as N,c as j}from"./chunk-K3O36QD3.js";import{b as B}from"./chunk-OAARWS43.js";import"./chunk-UMGIAK6N.js";import"./chunk-XTKGURG6.js";import"./chunk-JJS4FTEB.js";import"./chunk-J45A7UTJ.js";import{b as w}from"./chunk-RG7VMJRO.js";import{Ba as y,Bb as h,Eb as F,Jb as I,Ma as d,Na as l,Ra as p,T as m,Ta as g,Ua as u,Va as c,Wa as n,Xa as r,Ya as f,db as x,ec as C,fc as _,ra as s,tb as o,ub as b}from"./chunk-VTYUZ2GX.js";import{a as k,b as S}from"./chunk-WMVSLYLA.js";var Q=a=>({gebruikersnaam:a});function V(a,e){if(a&1&&(n(0,"mat-error"),o(1),r()),a&2){let t=e.$implicit;s(),b(t.message)}}function X(a,e){if(a&1&&(n(0,"mat-error"),o(1),r()),a&2){let t=e.$implicit;s(),b(t.message)}}var J={username:"",password:""},K=class a{router=m(C);snackBar=m(N);supabase=m(w);username=I(void 0,{alias:"gebruikersnaam"});redirectTo=I(void 0,{alias:"enDanNaar"});signInModel=F(()=>S(k({},J),{username:this.username()??J.username}));signInForm=q(this.signInModel,e=>{M(e.username,{message:"Gebruikersnaam is verplicht"}),v(e.username,2,{message:"Minimaal 2 karakters"}),R(e.username,50,{message:"Maximum 50 karakters"}),M(e.password,{message:"Wachtwoord is verplicht"}),v(e.password,6,{message:"Minimaal 6 karakters"})});onSubmit(e){e.preventDefault(),A(this.signInForm,async()=>{let{error:t}=await this.supabase.signIn(this.signInModel().username,this.signInModel().password);if(t){if(console.error(t),t.code==="invalid_credentials")return this.snackBar.open("Ongeldige inloggegevens!"),[{kind:"server",message:"Ongeldige inloggegevens"}];this.snackBar.open(`Er ging iets mis! ${t.message}`);return}this.router.navigateByUrl(this.redirectTo()??"")})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=y({type:a,selectors:[["app-sign-in"]],inputs:{username:[1,"gebruikersnaam","username"],redirectTo:[1,"enDanNaar","redirectTo"]},decls:29,vars:8,consts:[[3,"submit"],[1,"flex","flex-col","gap-6","max-w-sm","mx-auto","px-4","py-6"],["appearance","outlined"],[1,"!text-xl"],[1,"text-base","mt-2"],[1,"flex","flex-col","gap-2","pt-4"],["appearance","outline"],["matInput","","type","text",3,"field"],["matInput","","type","password",3,"field"],["matButton","filled","type","submit",1,"mx-2","text-base!","w-full",3,"disabled"],[1,"p-4","pt-2","text-center"],["routerLink","/registreren",1,"hover:text-primary-500",3,"queryParams"]],template:function(t,i){t&1&&(n(0,"form",0),x("submit",function(P){return i.onSubmit(P)}),n(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title",3),o(5,"Aanmelden"),r()(),n(6,"mat-card-content")(7,"p",4),o(8,"Fijn dat je er bent! Meld je aan om verder te gaan."),r(),n(9,"div",5)(10,"mat-form-field",6)(11,"mat-label"),o(12,"Gebruikersnaam"),r(),f(13,"input",7),d(),g(14,V,2,1,"mat-error",null,p),r(),n(16,"mat-form-field",6)(17,"mat-label"),o(18,"Wachtwoord"),r(),f(19,"input",8),d(),g(20,X,2,1,"mat-error",null,p),r()()(),n(22,"mat-card-actions")(23,"button",9),o(24," Aanmelden "),r()(),n(25,"mat-card-footer",10),o(26," Nog geen profiel? "),n(27,"a",11),o(28," Registreer je hier "),r()()()()()),t&2&&(s(13),l(i.signInForm.username),s(),u(i.signInForm.username().errors()),s(5),l(i.signInForm.password),s(),u(i.signInForm.password().errors()),s(3),c("disabled",!i.signInForm().dirty()||i.signInForm().invalid()||i.signInForm().submitting()),s(4),c("queryParams",h(6,Q,i.signInModel().username!==""?i.signInModel().username:void 0)))},dependencies:[O,B,W,H,G,U,z,$,E,T,L,D,j,_],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - var(--toolbar-height))}  app-root{background-image:url(/images/home/background.png);background-position:center;background-repeat:no-repeat;background-size:cover}  app-root>div{box-shadow:none!important}  app-root mat-toolbar{color:#fff!important}"],changeDetection:0})};export{K as SignIn};
