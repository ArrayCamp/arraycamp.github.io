import{a as T,b as L,c as N,d as j,e as O,f as $,g as G,h as H,i as q,j as z,k as A}from"./chunk-IL22K764.js";import{a as I}from"./chunk-WRTEGAD3.js";import{c as S,d as _,e as C,h as E}from"./chunk-SDQEQCA5.js";import{b as P,c as B}from"./chunk-K3O36QD3.js";import{b as D}from"./chunk-OAARWS43.js";import"./chunk-UMGIAK6N.js";import"./chunk-XTKGURG6.js";import"./chunk-JJS4FTEB.js";import"./chunk-J45A7UTJ.js";import{b as y}from"./chunk-RG7VMJRO.js";import{Ba as v,Eb as F,Ma as p,Na as d,Ra as f,T as s,Ta as u,Ua as c,Va as w,Wa as i,Xa as r,Ya as g,db as M,ra as o,tb as n,ub as b,wb as x}from"./chunk-VTYUZ2GX.js";import{a as h,b as k}from"./chunk-WMVSLYLA.js";function K(l,t){if(l&1&&(i(0,"mat-error"),n(1),r()),l&2){let e=t.$implicit;o(),b(e.message)}}function Q(l,t){if(l&1&&(i(0,"mat-error"),n(1),r()),l&2){let e=t.$implicit;o(),b(e.message)}}var R={username:"",password:""},U=class l{supabase=s(y);snackBar=s(P);profileModel=F(()=>k(h({},R),{username:this.supabase.profile()?.username??""}));profileForm=T(this.profileModel,t=>{$(t.username,{message:"Gebruikersnaam is verplicht"}),O(t.username,2,{message:"Minimaal 2 karakters"}),j(t.username,50,{message:"Maximum 50 karakters"})});onSubmit(t){t.preventDefault(),L(this.profileForm,async()=>{let{error:e}=await this.supabase.updateUser(this.profileModel());if(e){if(console.error(e),e.code==="weak_password")return[{kind:"server",field:this.profileForm.password,message:"Minimaal 6 karakters"}];if(e.code==="same_password")return[{kind:"server",field:this.profileForm.password,message:"Dit is je huidige wachtwoord?"}];this.snackBar.open(`Er ging iets mis! ${e.message}`);return}this.snackBar.open("Opgeslagen!")})}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=v({type:l,selectors:[["app-profile"]],decls:27,vars:7,consts:[[3,"submit"],[1,"flex","flex-col","gap-6","max-w-md","mx-auto","px-4","py-6"],["appearance","outlined"],[1,"!text-xl"],[1,"text-base","mt-2"],[1,"flex","flex-col","gap-2","pt-4"],["appearance","outline"],["matInput","","type","text",3,"field"],["align","end"],["autocomplete","new-password","matInput","","type","password",3,"field"],["matButton","filled","type","submit",1,"text-base!","w-full",3,"disabled"]],template:function(e,a){if(e&1&&(i(0,"form",0),M("submit",function(J){return a.onSubmit(J)}),i(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title",3),n(5,"Profiel"),r()(),i(6,"mat-card-content")(7,"p",4),n(8,"Pas hier je gebruikersnaam aan of kies een nieuw wachtwoord."),r(),i(9,"div",5)(10,"mat-form-field",6)(11,"mat-label"),n(12,"Gebruikersnaam"),r(),g(13,"input",7),p(),i(14,"mat-hint",8),n(15),r(),u(16,K,2,1,"mat-error",null,f),r(),i(18,"mat-form-field",6)(19,"mat-label"),n(20,"Nieuw wachtwoord"),r(),g(21,"input",9),p(),u(22,Q,2,1,"mat-error",null,f),r()()(),i(24,"mat-card-actions")(25,"button",10),n(26," Opslaan "),r()()()()()),e&2){let m;o(13),d(a.profileForm.username),o(2),x(" ",a.profileForm.username().value().length," / ",(m=a.profileForm.username().maxLength)==null?null:m()," "),o(),c(a.profileForm.username().errors()),o(5),d(a.profileForm.password),o(),c(a.profileForm.password().errors()),o(3),w("disabled",!a.profileForm().dirty()||a.profileForm().invalid()||a.profileForm().submitting())}},dependencies:[N,D,G,z,q,A,H,_,E,C,I,S,B],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - var(--toolbar-height))}  app-root{background-image:url(/images/home/background.png);background-position:center;background-repeat:no-repeat;background-size:cover}  app-root>div{box-shadow:none!important}  app-root mat-toolbar{color:#fff!important}"],changeDetection:0})};export{U as Profile};
