import{a as q,b as G,c as W,d as $,e as U,f as k,g as z,h as A,i as K,j as O,k as J,l as P}from"./chunk-IL22K764.js";import{a as R}from"./chunk-WRTEGAD3.js";import{c as T,d as I,e as B,h as N}from"./chunk-SDQEQCA5.js";import{b as j,c as H}from"./chunk-K3O36QD3.js";import{b as L}from"./chunk-OAARWS43.js";import"./chunk-UMGIAK6N.js";import"./chunk-XTKGURG6.js";import"./chunk-JJS4FTEB.js";import"./chunk-J45A7UTJ.js";import{b as E}from"./chunk-RG7VMJRO.js";import{Ba as x,Bb as _,Eb as w,Jb as M,Ma as l,Na as d,Ra as u,T as m,Ta as g,Ua as c,Va as f,Wa as a,Xa as n,Ya as b,db as y,ec as C,fc as D,ra as s,tb as i,ub as v,wb as F}from"./chunk-VTYUZ2GX.js";import{a as S,b as h}from"./chunk-WMVSLYLA.js";var Y=o=>({gebruikersnaam:o});function Z(o,e){if(o&1&&(a(0,"mat-error"),i(1),n()),o&2){let t=e.$implicit;s(),v(t.message)}}function ee(o,e){if(o&1&&(a(0,"mat-error"),i(1),n()),o&2){let t=e.$implicit;s(),v(t.message)}}var Q={username:"",password:""},V=class o{router=m(C);snackBar=m(j);supabase=m(E);username=M(void 0,{alias:"gebruikersnaam"});redirectTo=M(void 0,{alias:"enDanNaar"});signUpModel=w(()=>h(S({},Q),{username:this.username()??Q.username}));signUpForm=q(this.signUpModel,e=>{k(e.username,{message:"Gebruikersnaam is verplicht"}),U(e.username,2,{message:"Minimaal 2 karakters"}),$(e.username,50,{message:"Maximum 50 karakters"}),k(e.password,{message:"Wachtwoord is verplicht"}),U(e.password,6,{message:"Minimaal 6 karakters"})});onSubmit(e){e.preventDefault(),G(this.signUpForm,async()=>{let{error:t}=await this.supabase.signUp(this.signUpModel().username,this.signUpModel().password);if(t){if(console.error(t),t.code==="user_already_exists")return[{field:this.signUpForm.username,kind:"server",message:"Gebruikersnaam is al geregistreerd"}];this.snackBar.open(`Er ging iets mis! ${t.message}`);return}this.router.navigateByUrl(this.redirectTo()??"")})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=x({type:o,selectors:[["app-sign-up"]],inputs:{username:[1,"gebruikersnaam","username"],redirectTo:[1,"enDanNaar","redirectTo"]},decls:31,vars:10,consts:[[3,"submit"],[1,"flex","flex-col","gap-6","max-w-sm","mx-auto","px-4","py-6"],["appearance","outlined"],[1,"!text-xl"],[1,"text-base","mt-2"],[1,"flex","flex-col","gap-2","pt-4"],["appearance","outline"],["matInput","","type","text",3,"field"],["align","end"],["matInput","","type","password",3,"field"],["matButton","filled","type","submit",1,"mx-2","text-base!","w-full",3,"disabled"],[1,"p-4","pt-2","text-center"],["routerLink","/aanmelden",1,"hover:text-primary-500",3,"queryParams"]],template:function(t,r){if(t&1&&(a(0,"form",0),y("submit",function(X){return r.onSubmit(X)}),a(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title",3),i(5,"Registreren"),n()(),a(6,"mat-card-content")(7,"p",4),i(8,"Kies een gebruikersnaam en wachtwoord om je voortgang op te slaan."),n(),a(9,"div",5)(10,"mat-form-field",6)(11,"mat-label"),i(12,"Gebruikersnaam"),n(),b(13,"input",7),l(),a(14,"mat-hint",8),i(15),n(),g(16,Z,2,1,"mat-error",null,u),n(),a(18,"mat-form-field",6)(19,"mat-label"),i(20,"Wachtwoord"),n(),b(21,"input",9),l(),g(22,ee,2,1,"mat-error",null,u),n()()(),a(24,"mat-card-actions")(25,"button",10),i(26," Registreren "),n()(),a(27,"mat-card-footer",11),i(28," Heb je al een profiel? "),a(29,"a",12),i(30," Meld je hier aan "),n()()()()()),t&2){let p;s(13),d(r.signUpForm.username),s(2),F(" ",r.signUpForm.username().value().length," / ",(p=r.signUpForm.username().maxLength)==null?null:p()," "),s(),c(r.signUpForm.username().errors()),s(5),d(r.signUpForm.password),s(),c(r.signUpForm.password().errors()),s(3),f("disabled",!r.signUpForm().dirty()||r.signUpForm().invalid()||r.signUpForm().submitting()),s(4),f("queryParams",_(8,Y,r.signUpModel().username!==""?r.signUpModel().username:void 0))}},dependencies:[W,L,z,O,K,P,J,A,I,N,B,R,T,H,D],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - var(--toolbar-height))}  app-root{background-image:url(/images/home/background.png);background-position:center;background-repeat:no-repeat;background-size:cover}  app-root>div{box-shadow:none!important}  app-root mat-toolbar{color:#fff!important}"],changeDetection:0})};export{V as SignUp};
